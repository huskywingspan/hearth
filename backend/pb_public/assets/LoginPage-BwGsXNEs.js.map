{"version":3,"file":"LoginPage-BwGsXNEs.js","sources":["../../src/components/ui/Input.tsx","../../src/components/auth/LoginForm.tsx","../../src/pages/LoginPage.tsx"],"sourcesContent":["import { type InputHTMLAttributes, forwardRef } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n}\r\n\r\n/**\r\n * Warm input — deep background, rounded, ember glow on focus.\r\n * No border by default; focus uses shadow-glow.\r\n */\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  function Input({ label, error, className = '', id, ...props }, ref) {\r\n    const inputId = id ?? label?.toLowerCase().replace(/\\s+/g, '-');\r\n\r\n    return (\r\n      <div className=\"flex flex-col gap-1\">\r\n        {label && (\r\n          <label\r\n            htmlFor={inputId}\r\n            className=\"text-sm font-medium text-[var(--color-text-secondary)]\"\r\n          >\r\n            {label}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          id={inputId}\r\n          className={[\r\n            'bg-[var(--color-bg-input)]',\r\n            'text-[var(--color-text-primary)]',\r\n            'placeholder:text-[var(--color-text-muted)]',\r\n            'rounded-[var(--radius-lg)]',\r\n            'border-none',\r\n            'px-4 py-2.5',\r\n            'transition-shadow duration-[var(--duration-normal)]',\r\n            'focus:outline-none focus:shadow-[var(--shadow-glow)]',\r\n            error ? 'ring-2 ring-[var(--color-alert-clay)]' : '',\r\n            className,\r\n          ].join(' ')}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <span className=\"text-xs text-[var(--color-alert-clay)]\">{error}</span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","import { useState, type FormEvent } from 'react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { useAuth } from '@/hooks/useAuth';\r\n\r\n/**\r\n * Login/register form — warm, inviting, pillow buttons.\r\n * Switches between login and register modes.\r\n */\r\nexport function LoginForm() {\r\n  const { login, register } = useAuth();\r\n  const [mode, setMode] = useState<'login' | 'register'>('login');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [displayName, setDisplayName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      if (mode === 'login') {\r\n        await login(email, password);\r\n      } else {\r\n        await register(email, password, displayName || email.split('@')[0]!);\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err instanceof Error\r\n          ? err.message\r\n          : 'Something went wrong. Please try again.'\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-sm mx-auto animate-float-in\">\r\n      <h1 className=\"font-display text-2xl text-center mb-6 text-[var(--color-text-primary)]\">\r\n        {mode === 'login' ? 'Welcome Home' : 'Find Your Hearth'}\r\n      </h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\r\n        {mode === 'register' && (\r\n          <Input\r\n            label=\"Display Name\"\r\n            placeholder=\"Your name by the fire\"\r\n            value={displayName}\r\n            onChange={(e) => setDisplayName(e.target.value)}\r\n          />\r\n        )}\r\n\r\n        <Input\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          placeholder=\"you@example.com\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <Input\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          placeholder=\"••••••••\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n          error={error || undefined}\r\n        />\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"primary\"\r\n          size=\"lg\"\r\n          className=\"mt-2 w-full\"\r\n          disabled={isSubmitting}\r\n        >\r\n          {isSubmitting\r\n            ? '...'\r\n            : mode === 'login'\r\n              ? 'Enter'\r\n              : 'Join'}\r\n        </Button>\r\n      </form>\r\n\r\n      <div className=\"mt-6 text-center\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            setMode(mode === 'login' ? 'register' : 'login');\r\n            setError('');\r\n          }}\r\n          className=\"text-sm text-[var(--color-text-muted)] hover:text-[var(--color-accent-amber)] transition-colors duration-[var(--duration-normal)]\"\r\n        >\r\n          {mode === 'login'\r\n            ? \"Don't have a hearth? Create one\"\r\n            : 'Already have a hearth? Welcome back'}\r\n        </button>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import { LoginForm } from '@/components/auth/LoginForm';\r\n\r\nexport default function LoginPage() {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen p-4 bg-[var(--color-bg-primary)]\">\r\n      <LoginForm />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Input","forwardRef","label","error","className","id","props","ref","inputId","jsxs","jsx","LoginForm","login","register","useAuth","mode","setMode","useState","email","setEmail","password","setPassword","displayName","setDisplayName","setError","isSubmitting","setIsSubmitting","handleSubmit","e","err","Card","Button","LoginPage"],"mappings":"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"}